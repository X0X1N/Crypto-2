# Crypto-2
현대 암호


서론 
---------------
저번에는 고전 암호에 대해서 배웠고 이번엔 현대 암호에 대해 알아가보자 이 주제를 선정하였습니다.
Dream hack을 참고하여 공부 하였습니다.


본론
---------------

많은 고전 암호에서는 송신자와 수신자가 같은 키를 가지고 있어야한다. 
카이사르 암호에서는 두 사람이 알파벳을 미는 칸의 수를 공유하고 있어야 했고, 비즈네르 암호에서는 키워드를 공유하고 있어야 했다.
이렇게 송신자와 수신자가 같은 키를 공유해야하는 암호 시스템을 **대칭키 암호 시스템** 이라고 한다.

1970년 중반에 Diffie와 Hellman이 Diffie-Hellman 키 교환 알고리즘을 제시하였고, 송신자와 수신자가 서로 다른 키를 사용하는 공개키 암호 시스템(Public Key Cryptosystem)의 개념을 창안했다. 이는 대칭키와 대비되어 비대칭키 암호 시스템(Asymmetric Cryptography)이라고도 불린다.

대칭키 암호와 비대칭키 암호를 소개하고, 현대 암호학에서 제공하는 기밀성, 무결성, 인증, 부인 방지란 무엇인지 간략히 설명하겠다.

### 혼돈과 확산


1945년에 암호학자 Claude Shannon은 안전한 암호 시스템은 **혼돈(Confusion)과 확산(Diffusion)** 의 성질을 만족해야한다고 발표했다. 현대의 많은 암호 시스템이 두 성질을 따르고 있다.

#### 혼돈 
혼돈은 암호문에서 평문의 특성을 알아내기 힘든 성질을 말한다. 
단일 치환 암호를 사용하여 같은 평문을 두 번 암호화하면 출력된 두 암호문은 서로 같다. 공격자는 암호문을 보고 평문이 무엇인지 유추하지는 못하더라도 암호문을 생성한 두 평문이 같다는 사실은 알 수 있다.
따라서 단일 치환 암호는 혼돈 성질을 만족하지 못하는 암호다.


<img width="324" alt="스크린샷 2022-04-16 15 51 15" src="https://user-images.githubusercontent.com/78540248/163664996-d283eca8-48d9-45d8-8c3a-b10e5e66db31.png">



#### 확산

확산은 평문의 작은 변화가 암호문의 큰 변화로 이어지는 성질이다.
이 성질은 대부분의 고전 암호에서 찾아보기 힘든 성질이다.



<img width="371" alt="스크린샷 2022-04-16 15 52 42" src="https://user-images.githubusercontent.com/78540248/163665028-4737c1d0-7eec-4419-8a08-a21706b13a80.png">





### 대칭 키 암호 시스템

대칭키 암호 시스템은 암호화와 복호화에 같은 키를 사용하는 암호 시스템이다. 
크게 블록 암호와 스트림 암호로 구분한다.

#### 블록 암호

**블록암호**는 평문을 정해진 크기의 블록 단위로 암호화하는 암호이다.
예를 들어 블록의 크기가 4바이트라면 평문을 4바이트의 블록으로 쪼개어 각 블록마다 암호화를 진행한다.



<img width="362" alt="스크린샷 2022-04-16 15 55 22" src="https://user-images.githubusercontent.com/78540248/163665096-a7ca05b7-7e89-4814-aa44-5e11bdec76c9.png">


만약 평문의 크기가 블록 크기의 배수가 아니어서 블록으로 균등하게 쪼갤 수 없다면, 평문뒤에 데이터를 추가하는 **패딩** 을 먼저 수행한다. 패당은 평문이 블록 크기의 배수가 될 때까지 데이터를 추가한다.
블록 암호의 대표적인 예시로는 **DES**,**AES**가 있다.


#### 스트림 암호


스트림 암호(Stream Cipher)는 송신자와 수신자가 공유하는 데이터 스트림을 생성하고 이를 평문에 XOR하는 암호이다. 
평문을 P, 암호문을 C, 스트림을 X라고 할 때, 암호문 C는 C=P⊕X로 생성된다.
X⊕X=0이므로 수신자는 C⊕X=P⊕X⊕X=P로 암호문을 복호화할 수 있다.

그래서 일반적으로 송신자와 수신자는 스트림을 공유하는 대신, 시드(Seed)라 불리는 작은 값을 공유하고, 이를 사전에 합의된 함수의 인자로 넣어 스트림을 각자 생성한다. 
스트림 암호는 단순한 연산으로만 구현되므로 속도가 매우 빠르다. 그러나 블록암호보다는 안전하지 못하다고 알려져서 연산 능력이 부족한 임베디드 기기나 속도가 중요한 환경에서만 제한적으로 사용된다.



<img width="442" alt="스크린샷 2022-04-16 16 01 52" src="https://user-images.githubusercontent.com/78540248/163665294-52a7c34e-9e7b-404f-a279-dc70e90bf72a.png">



### 대칭키 암호 시스템의 장점과 단점

대칭키 암호 시스템은 일반적으로 공개키 암호 시스템에 비해 속도가 빠릅니다. 그러나 송신자와 수신자가 사전에 키를 교환해야 한다는 제약이 있다.

또한 대칭키 암호 시스템에서는 그룹 내에 여러 명이 있을 경우 두 사람마다 서로 다른 키를 생성해서 사용해야 한다.
이후에도 새로운 상대와 통신할 때마다 계속 키를 생성해야 한다. 공개키 암호 시스템에는 이와 같은 키 생성의 불편함이 없다.


### 공개키 암호 시스템

공개키 암호 시스템에서 송신자는 수신자의 공개키(Public Key)로 데이터를 암호화하여 수신자에게 전송하고, 수신자는 자신의 비밀키(Private Key)로 이를 복호화한다.
명칭에서 알 수 있듯 공개키는 모두에게 공개되어 있으므로 공개키를 아는 사람은 누구나 수신자에게 암호문을 보낼 수 있다. 그러나 개인키는 수신자만 알고 있으므로, 공격자는 암호문을 도청해도 이를 복호화할 수 없다.


### 공개키 암호 시스템의 장점과 단점

공개키 암호 시스템에서는 그룹 내의 사람들이 각자의 공개키와 비밀키를 만든 후 공개키만 공개하면 되므로 N명의 사람이 있을 때 2N개의 키만 필요하다. 
이는 N(N−1)/2개의 키가 필요했던 대칭키 암호 시스템보다 훨씬 적습니다. 또한 한 번 키를 생성하고 나면, 새로운 상대와 통신하더라도 자신이 키를 다시 만들어야할 필요가 없다.

반면, 공개키 암호 시스템은 일반적으로 대칭키 암호 시스템에 비해 다소 복잡한 연산이 필요하므로 속도가 느리다. 또한 대칭키 암호와 같은 안전성을 제공하려면, 대칭키 암호보다 긴 키를 사용해야 한다. 
예를 들어 대칭키 암호 시스템인 AES는 192 비트 이상의 키를 사용하면 충분히 안전하지만, 공개키 암호 시스템인 RSA는 2048 비트 이상의 키를 사용할 것이 권장된다.


### 암호의 기능

정보 보안에는 여러 목표가 있는데, 현대 암호학은 기밀성외에도 여러 목표의 달성에기여하고 있다. 


현대 암호학이 제공하는 보안적 기능은 다음과 같다.

**기밀성(Confidentiality)**
기밀성은 허락된 사람만이 정보를 열람할 수 있게 하는 기능을 의미한다. 여기서 허락된 사람은 일반적으로 키를 가지고 있는 사람을 말한다.

**무결성(Integrity)**
무결성은 송신자가 보낸 정보에 변조가 일어나지 않았음을 의미한다. 


**인증(Authentication)**
인증은 정보를 주고 받는 상대방의 신원을 확인하는 기능을 말합니다. 얼굴도 보이지 않고, 신분증도 교환할 수 없는 네트워크에서 서로가 신뢰할 수 있는 것은 인증 시스템이 갖춰져 있기 때문이다. 
공인인증서가 대표적인 예이며 작게는 웹에서 아이디와 비밀번호를 입력하는 것도 인증의 영역에 속한다.

**부인 방지(Non-repudiation)**
부인 방지는 정보를 교환한 이후에 교환한 사실을 부인할 수 없게 하는 기능을 의미한다. 온라인상에서 거래가 발생했을 때 돈을 수신한 쪽에서 수신한 사실을 부인할 수 있다면 온라인 거래는 불가능할 것이다.


결론
--------------

키워드를 정리하며 마치도록 하겠습니다.


**혼돈(Confusion): 암호문으로부터 평문의 정보를 유추하지 못하게 하는 성질**


**확산(Diffusion): 평문의 작은 변화가 암호문의 큰 변화로 나타나게 하는 성질**

**대칭키 암호 시스템(Symmetric Cryptosystem): 수신자와 송신자가 같은 키를 공유하여 정보를 암호화하고 복호화하는 시스템. 속도가 빠르지만, 키 교환이 어렵다는 단점이 있다.**


**블록 암호(Block Cipher): 평문을 일정 크기의 블록으로 나누고, 각 블록을 암호화하는 대칭키 암호 방식**


**스트림 암호(Stream Cipher): 수신자와 송신자가 공유하는 스트림을 이용하여 데이터를 암호화하는 방식. 속도는 빠르지만, 블록 암호보다 안전하지 않다고 알려져 있다. 일반적으로 성능이 부족한 임베디드 장비나 빠른 속도가 필요한 제한적 환경에서 사용된다.**


**공개키 암호 시스템(Public-Key Cryptosystem): 수신자와 송신자가 서로 다른 키를 사용하여 정보를 암호화하고 복호화하는 시스템. 암호화와 복호화에 사용되는 키가 다르다. 사용되는 전체 키의 수는 적으나, 대칭키 암호보다 속도가 느리다.**


**현대 암호의 네 가지 기능: 기밀성(Confidentiality), 무결성(Integrity), 인증(Authentication), 부인 방지(Non-repudiation)**
